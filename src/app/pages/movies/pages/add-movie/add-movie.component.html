<div *ngIf="!isUpdate && movieForm || (isUpdate && movie && movieForm); else noResponseYet">
    <form class="form-movie" [formGroup]="movieForm"
          autocomplete="off" 
          fxLayout="column" 
          fxFlex="100%"  
          fxFlex.gt-md="40%"   fxFlexOffset.gt-md="30%"
          fxFlex.gt-lg="33.3%" fxFlexOffset.gt-lg="33.3%">

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_TITLE_LABEL}}</mat-label>
            <input matInput 
                   type="text"
                   formControlName="title">
        </mat-form-field>

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_POSTER_LABEL}}</mat-label>
            <input matInput 
                   type="url"
                   formControlName="urlImage">
        </mat-form-field>

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_GENRE_LABEL}}</mat-label>
            <mat-select multiple>
                <mat-select-trigger>
                    <mat-chip-list>
                        <mat-chip *ngFor="let genre of movie.genres" 
                                  removable 
                                  (removed)="removeGenreChip(genre)">
                            {{genre}}
                            <mat-icon matChipRemove>cancel</mat-icon>
                        </mat-chip>
                    </mat-chip-list>
                </mat-select-trigger>
                <mat-option *ngFor="let genre of genresList" [value]="genre">
                    {{genre}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_ACTORS_LABEL}}</mat-label>
            <mat-select multiple>
                <mat-select-trigger>
                    <mat-chip-list>
                        <mat-chip *ngFor="let actor of movie.actors" 
                                  removable 
                                  (removed)="removeActorChip(actor)">
                            {{actor.first_name}}&nbsp;{{actor.last_name}}
                            <mat-icon matChipRemove>cancel</mat-icon>
                        </mat-chip>
                    </mat-chip-list>
                </mat-select-trigger>
                <mat-option *ngFor="let actor of actorsList" 
                            [value]='actor'>
                    {{actor.first_name}}&nbsp;{{actor.last_name}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_COMPANY_LABEL}}</mat-label>
            <mat-select>
                <mat-option *ngFor="let company of companiesList" 
                            [value]='company'>
                    {{company.name}}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_YEAR_LABEL}}</mat-label>
            <input matInput 
                   type="number"
                   formControlName="year">
        </mat-form-field>

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_DURATION_LABEL}}</mat-label>
            <input matInput 
                   type="number"
                   formControlName="duration">
        </mat-form-field>

        <mat-form-field class="form-movie__field" appearance="fill">
            <mat-label>{{CONST.MOVIE_RATING_LABEL}}</mat-label>
            <input matInput 
                   type="number" 
                   min="0" 
                   step="0.1" 
                   max="10"
                   formControlName="rating">
        </mat-form-field>

        <div class="save-button">
            <button mat-fab color="accent" (click)="saveMovie()">
                <mat-icon>save</mat-icon>
            </button>
        </div>
    </form>
</div>
<ng-template #noResponseYet>
    <app-spinner></app-spinner>
</ng-template>